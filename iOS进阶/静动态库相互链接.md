## 动态库--动态库

场景：App --> 动态库A --> 动态库 B

存在问题：动态库B应该的路径 = 动态库A的rpath + 动态库B的install_name。但是这种场景下，动态库B并不在这个路径下

解决方案：修改动态库 A的 rpath 或者 copy 动态库 B到指定路径中。

方式一：修改A的 rpath为动态库B的install_name之前的绝对路径。（在xcconfig中配置 LD_RUNPATH_SEARCH_PATHS）

方式二：Cocoapods向app导入动态库B，在导入过程中Cocopods会自动将动态库B拷贝到app的framework目录下

方式三：写脚本，通过脚本copy动态库B到app的framework目录下

### 反向依赖问题

反向依赖即动态库使用app符号的问题。动态库在运行时能找到app的符号，但是在编译时可能会报找不到符号的错误

可以通过 -U <符号 >，来指定⼀个符号的是动态查找符号。

### app跨库使用符号

APP想要使用动态库B的符号，可行的方案有：

1、让app直接链接动态库B

2、通过 reexport_framework 或者 -reexport_l 重新将动态库B 通过动态库A导出给app

```
OTHER_LDFLAGS = -Xlinker -reexport_framework -Xlinker AFNetworking $(inherited) 
```





